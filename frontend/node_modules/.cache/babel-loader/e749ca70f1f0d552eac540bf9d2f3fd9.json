{"ast":null,"code":"var _jsxFileName = \"/home/olakoziou/Pulpit/Code/krzys2/frontend/src/components/training/Form.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Spinner from '../Spinner';\nimport { breakpoints, colors } from '../../styles';\nimport Title from '../Title'; // import { loadStripe } from '@stripe/stripe-js';\n// const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLIC);\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Box = styled.div`\n  padding: 50px 0 30px;\n`;\n_c = Box;\nconst FormContainer = styled.form`\n  width: 90%;\n  margin: 0 auto;\n  padding: 30px 0;\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  @media ${breakpoints().sm} {\n    max-width: 350px;\n  }\n\n  @media ${breakpoints().md} {\n    max-width: 450px;\n  }\n\n  > div:last-of-type {\n    width: 100%;\n    max-width: 300px;\n    margin: 30px auto 0;\n    input[type='submit'] {\n      outline: none;\n      border: none;\n      width: 100%;\n\n      background-color: ${colors().violet};\n      color: ${colors().grey};\n      font-size: 26px;\n      font-weight: 700;\n      text-align: center;\n      text-transform: uppercase;\n      padding: 15px;\n      border-radius: 12px;\n      box-shadow: 0 0 12px -5px ${colors().navy1};\n      cursor: pointer;\n      transition: all 0.2s;\n\n      @media (hover: hover) {\n        &:not(:disabled):hover {\n          transform: scale(1.03);\n          box-shadow: 0 0 15px -5px ${colors().navy1};\n        }\n      }\n\n      &:disabled {\n        background-color: ${colors(0.5).darkGrey};\n        cursor: unset;\n      }\n    }\n  }\n`;\n_c2 = FormContainer;\nconst Switch = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n\n  > span {\n    display: inline-block;\n    max-width: 30%;\n    color: ${colors().navy1};\n    i {\n      opacity: ${props => props.toggle ? '1' : '0'};\n      color: ${colors().orange};\n      transition: all 0.2s;\n    }\n  }\n  label {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n    margin-right: 5px;\n    input {\n      opacity: 0;\n      width: 0;\n      height: 0;\n    }\n\n    span {\n      position: absolute;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border-radius: 34px;\n      background-color: #ccc;\n      -webkit-transition: 0.4s;\n      transition: 0.4s;\n\n      &::before {\n        position: absolute;\n        content: '';\n        height: 26px;\n        width: 26px;\n        left: 4px;\n        bottom: 4px;\n        background-color: ${props => props.toggle ? `${colors().orange}` : `${colors().violet}`};\n        transform: ${props => props.toggle ? 'translateX(26px)' : 'translateX(0)'};\n        border-radius: 50%;\n        -webkit-transition: 0.4s;\n        transition: 0.4s;\n      }\n    }\n  }\n`;\n_c3 = Switch;\nconst Input = styled.div`\n  margin: 20px 0;\n  height: 50px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  input {\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    border-bottom: 1px solid ${colors().navy2};\n    outline: none;\n\n    :focus,\n    :valid {\n      border-bottom: 2px solid ${colors().orange};\n    }\n\n    :focus + label {\n      top: 5%;\n      font-size: 12px;\n      /* transition: all 0.5s; */\n    }\n    :valid + label {\n      top: 5%;\n      font-size: 12px;\n    }\n\n    :valid ~ i {\n      transform: scale(1);\n    }\n  }\n\n  i {\n    transform: scale(0);\n    color: ${colors().orange};\n    transition: all 0.2s;\n  }\n\n  label {\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    transition: all 0.3s;\n  }\n\n  i {\n    position: absolute;\n    right: 0;\n  }\n`;\n_c4 = Input;\nconst Privacy = styled.div`\n  display: flex;\n  align-items: center;\n  > input {\n    margin-right: 5px;\n  }\n`;\n_c5 = Privacy;\nconst SpinnerBtn = styled.div`\n  background-color: ${colors().violet};\n  color: ${colors().grey};\n  font-size: 26px;\n  font-weight: 700;\n  text-align: center;\n  text-transform: uppercase;\n  padding: 15px;\n  border-radius: 12px;\n  box-shadow: 0 0 12px -5px ${colors().navy1};\n  cursor: pointer;\n`;\n_c6 = SpinnerBtn;\nconst validEmailRegex = RegExp( // eslint-disable-next-line\n/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\nfunction Form({\n  getFromOffset,\n  isMounted\n}) {\n  _s();\n\n  const [state, setState] = useState({\n    name: '',\n    address1: '',\n    address2: '',\n    address3: '',\n    email: '',\n    nip: '',\n    company: '',\n    errors: {\n      name: '',\n      address1: 'Minimum 8 znaków',\n      address2: 'Minimum 6 znaków',\n      address3: 'Minimum 3 znaki',\n      email: 'Nieprawidłowy email',\n      nip: 'Minimum 8 znaków',\n      company: 'Minimum 3 znaki'\n    }\n  });\n  const [toggle, setToggle] = useState(true);\n  const [privacy, setPrivacy] = useState(false);\n  const [disabled, setDisabled] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasChanged, setHasChanged] = useState(false);\n  const ref = useRef();\n  useEffect(() => {\n    getFromOffset(ref.current);\n  }, [getFromOffset]);\n\n  const handleChange = e => {\n    setState(prev => ({ ...prev,\n      [e.target.id]: e.target.value\n    })); // setHasChanged(true);\n\n    const {\n      name,\n      value\n    } = e.target;\n    let errors = state.errors;\n\n    switch (name) {\n      case 'name':\n        errors.name = value.length < 5 ? 'Minimum 5 znaków' : '';\n        break;\n\n      case 'company':\n        errors.company = value.length < 3 ? 'Minimum 3 znaki' : '';\n        break;\n\n      case 'email':\n        errors.email = validEmailRegex.test(value) ? '' : 'Nieprawidłowy email';\n        break;\n\n      case 'address1':\n        errors.address1 = value.length < 8 ? 'Minimum 8 znaków' : '';\n        break;\n\n      case 'address2':\n        errors.address2 = value.length < 5 ? 'Minimum 5 znaków' : '';\n        break;\n\n      case 'address3':\n        errors.address3 = value.length < 3 ? 'Minimum 3 znaki' : '';\n        break;\n\n      case 'nip':\n        errors.nip = value.length < 8 ? 'Minimum 8 znaków' : '';\n        break;\n\n      default:\n        break;\n    }\n\n    if (validateForm(state.errors)) {\n      setDisabled(false);\n    } else if (!validateForm(state.errors) && privacy === true) {\n      setDisabled(true);\n      console.log('f');\n    }\n  };\n\n  const validateForm = errors => {\n    let valid = true;\n    Object.values(errors).forEach(val => val.length > 0 && (valid = false)) && Object.values(state).slice(-1).forEach(val => val.length > 0 && (valid = false));\n    return valid;\n  };\n\n  const toggleSwitch = e => {\n    setToggle(prev => !prev);\n    setState({\n      name: '',\n      address1: '',\n      address2: '',\n      address3: '',\n      email: '',\n      nip: '',\n      company: '',\n      errors: {\n        name: '',\n        address1: '',\n        address2: '',\n        address3: '',\n        email: '',\n        nip: '',\n        company: ''\n      }\n    });\n  };\n\n  const acceptPrivacy = e => {\n    setPrivacy(prev => !prev);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    const data = state;\n    delete data.errors;\n    await axios.all([axios.post(`${process.env.REACT_APP_DOMAIN}/api/send-email`, {\n      data\n    }) // axios.get('/api/kup-szkolenie').then(async (data) => {\n    //   const id = await data.data.id;\n    //   const stripe = await stripePromise;\n    //   const { errorStripe } = await stripe.redirectToCheckout({\n    //     sessionId: id,\n    //   });\n    //   console.log(errorStripe);\n    // }),\n    ]);\n  };\n\n  const timeout = () => {\n    setTimeout(() => {\n      setHasChanged(true);\n      setState({\n        name: '',\n        address1: '',\n        address2: '',\n        address3: '',\n        email: '',\n        nip: '',\n        company: '',\n        errors: {\n          name: '',\n          address1: '',\n          address2: '',\n          address3: '',\n          email: '',\n          nip: '',\n          company: ''\n        }\n      });\n    }, 3000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    ref: ref,\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      text: \"Dane kontaktowe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n      onSubmit: handleSubmit // action=\"/api/kup-szkolenie\"\n      // method=\"POST\"\n      ,\n      children: [/*#__PURE__*/_jsxDEV(Switch, {\n        toggle: toggle,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"switch\",\n            id: \"switch\",\n            onChange: toggleSwitch,\n            checked: toggle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Firma \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), toggle ? /*#__PURE__*/_jsxDEV(Input, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"company\",\n          id: \"company\",\n          value: state.company,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"company\",\n          children: \"Nazwa firmy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Input, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          id: \"name\",\n          value: state.name,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Imi\\u0119 i nazwisko\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          value: state.email,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"address1\",\n          id: \"address1\",\n          value: state.address1,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"address1\",\n          children: \"Ulica, nr budynku / nr lokalu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"address2\",\n          id: \"address2\",\n          value: state.address2,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"address2\",\n          children: \"Kod poczowy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"address3\",\n          id: \"address3\",\n          value: state.address3,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"address3\",\n          children: \"Miejscowo\\u015B\\u0107\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this), toggle ? /*#__PURE__*/_jsxDEV(Input, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"nip\",\n          id: \"nip\",\n          value: state.nip,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nip\",\n          children: \"NIP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(Privacy, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"check\",\n          checked: privacy,\n          onChange: acceptPrivacy,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"check\",\n          children: [' ', \"Kupuj\\u0105c szkolenie wyra\\u017Cam zgod\\u0119 na przetwarzanie moich danych osobowych.Zasady przetwarzania danych osobowych znajdziesz w\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/polityka-prywatnosci\",\n            children: \"polityce prywatno\\u015Bci\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isLoading ?\n        /*#__PURE__*/\n        // <Spinner>\n        _jsxDEV(SpinnerBtn, {\n          children: hasChanged ? 'Wysłano' : /*#__PURE__*/_jsxDEV(Spinner, {\n            bgc: colors().grey\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // </Spinner>\n        _jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Kupuj\\u0119 i p\\u0142ac\\u0119\",\n          disabled: disabled,\n          onClick: () => timeout()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 359,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"FrI1KYNbJKlKLEcFKbOGvvsYYTQ=\");\n\n_c7 = Form;\nexport default Form;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Box\");\n$RefreshReg$(_c2, \"FormContainer\");\n$RefreshReg$(_c3, \"Switch\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"Privacy\");\n$RefreshReg$(_c6, \"SpinnerBtn\");\n$RefreshReg$(_c7, \"Form\");","map":{"version":3,"sources":["/home/olakoziou/Pulpit/Code/krzys2/frontend/src/components/training/Form.js"],"names":["axios","React","useEffect","useRef","useState","Link","styled","Spinner","breakpoints","colors","Title","Box","div","FormContainer","form","sm","md","violet","grey","navy1","darkGrey","Switch","props","toggle","orange","Input","navy2","Privacy","SpinnerBtn","validEmailRegex","RegExp","Form","getFromOffset","isMounted","state","setState","name","address1","address2","address3","email","nip","company","errors","setToggle","privacy","setPrivacy","disabled","setDisabled","isLoading","setIsLoading","hasChanged","setHasChanged","ref","current","handleChange","e","prev","target","id","value","length","test","validateForm","console","log","valid","Object","values","forEach","val","slice","toggleSwitch","acceptPrivacy","handleSubmit","preventDefault","data","all","post","process","env","REACT_APP_DOMAIN","timeout","setTimeout"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Spinner from '../Spinner';\nimport { breakpoints, colors } from '../../styles';\nimport Title from '../Title';\n// import { loadStripe } from '@stripe/stripe-js';\n// const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLIC);\n\nconst Box = styled.div`\n  padding: 50px 0 30px;\n`;\n\nconst FormContainer = styled.form`\n  width: 90%;\n  margin: 0 auto;\n  padding: 30px 0;\n  max-width: 300px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  @media ${breakpoints().sm} {\n    max-width: 350px;\n  }\n\n  @media ${breakpoints().md} {\n    max-width: 450px;\n  }\n\n  > div:last-of-type {\n    width: 100%;\n    max-width: 300px;\n    margin: 30px auto 0;\n    input[type='submit'] {\n      outline: none;\n      border: none;\n      width: 100%;\n\n      background-color: ${colors().violet};\n      color: ${colors().grey};\n      font-size: 26px;\n      font-weight: 700;\n      text-align: center;\n      text-transform: uppercase;\n      padding: 15px;\n      border-radius: 12px;\n      box-shadow: 0 0 12px -5px ${colors().navy1};\n      cursor: pointer;\n      transition: all 0.2s;\n\n      @media (hover: hover) {\n        &:not(:disabled):hover {\n          transform: scale(1.03);\n          box-shadow: 0 0 15px -5px ${colors().navy1};\n        }\n      }\n\n      &:disabled {\n        background-color: ${colors(0.5).darkGrey};\n        cursor: unset;\n      }\n    }\n  }\n`;\n\nconst Switch = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 10px 0;\n\n  > span {\n    display: inline-block;\n    max-width: 30%;\n    color: ${colors().navy1};\n    i {\n      opacity: ${(props) => (props.toggle ? '1' : '0')};\n      color: ${colors().orange};\n      transition: all 0.2s;\n    }\n  }\n  label {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n    margin-right: 5px;\n    input {\n      opacity: 0;\n      width: 0;\n      height: 0;\n    }\n\n    span {\n      position: absolute;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border-radius: 34px;\n      background-color: #ccc;\n      -webkit-transition: 0.4s;\n      transition: 0.4s;\n\n      &::before {\n        position: absolute;\n        content: '';\n        height: 26px;\n        width: 26px;\n        left: 4px;\n        bottom: 4px;\n        background-color: ${(props) =>\n          props.toggle ? `${colors().orange}` : `${colors().violet}`};\n        transform: ${(props) =>\n          props.toggle ? 'translateX(26px)' : 'translateX(0)'};\n        border-radius: 50%;\n        -webkit-transition: 0.4s;\n        transition: 0.4s;\n      }\n    }\n  }\n`;\n\nconst Input = styled.div`\n  margin: 20px 0;\n  height: 50px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  input {\n    height: 100%;\n    width: 100%;\n    background-color: transparent;\n    border-bottom: 1px solid ${colors().navy2};\n    outline: none;\n\n    :focus,\n    :valid {\n      border-bottom: 2px solid ${colors().orange};\n    }\n\n    :focus + label {\n      top: 5%;\n      font-size: 12px;\n      /* transition: all 0.5s; */\n    }\n    :valid + label {\n      top: 5%;\n      font-size: 12px;\n    }\n\n    :valid ~ i {\n      transform: scale(1);\n    }\n  }\n\n  i {\n    transform: scale(0);\n    color: ${colors().orange};\n    transition: all 0.2s;\n  }\n\n  label {\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    transition: all 0.3s;\n  }\n\n  i {\n    position: absolute;\n    right: 0;\n  }\n`;\n\nconst Privacy = styled.div`\n  display: flex;\n  align-items: center;\n  > input {\n    margin-right: 5px;\n  }\n`;\n\nconst SpinnerBtn = styled.div`\n  background-color: ${colors().violet};\n  color: ${colors().grey};\n  font-size: 26px;\n  font-weight: 700;\n  text-align: center;\n  text-transform: uppercase;\n  padding: 15px;\n  border-radius: 12px;\n  box-shadow: 0 0 12px -5px ${colors().navy1};\n  cursor: pointer;\n`;\n\nconst validEmailRegex = RegExp(\n  // eslint-disable-next-line\n  /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n);\n\nfunction Form({ getFromOffset, isMounted }) {\n  const [state, setState] = useState({\n    name: '',\n    address1: '',\n    address2: '',\n    address3: '',\n    email: '',\n    nip: '',\n    company: '',\n    errors: {\n      name: '',\n      address1: 'Minimum 8 znaków',\n      address2: 'Minimum 6 znaków',\n      address3: 'Minimum 3 znaki',\n      email: 'Nieprawidłowy email',\n      nip: 'Minimum 8 znaków',\n      company: 'Minimum 3 znaki',\n    },\n  });\n  const [toggle, setToggle] = useState(true);\n  const [privacy, setPrivacy] = useState(false);\n  const [disabled, setDisabled] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasChanged, setHasChanged] = useState(false);\n  const ref = useRef();\n\n  useEffect(() => {\n    getFromOffset(ref.current);\n  }, [getFromOffset]);\n\n  const handleChange = (e) => {\n    setState((prev) => ({\n      ...prev,\n      [e.target.id]: e.target.value,\n    }));\n    // setHasChanged(true);\n\n    const { name, value } = e.target;\n    let errors = state.errors;\n\n    switch (name) {\n      case 'name':\n        errors.name = value.length < 5 ? 'Minimum 5 znaków' : '';\n        break;\n      case 'company':\n        errors.company = value.length < 3 ? 'Minimum 3 znaki' : '';\n        break;\n      case 'email':\n        errors.email = validEmailRegex.test(value) ? '' : 'Nieprawidłowy email';\n        break;\n      case 'address1':\n        errors.address1 = value.length < 8 ? 'Minimum 8 znaków' : '';\n        break;\n      case 'address2':\n        errors.address2 = value.length < 5 ? 'Minimum 5 znaków' : '';\n        break;\n      case 'address3':\n        errors.address3 = value.length < 3 ? 'Minimum 3 znaki' : '';\n        break;\n      case 'nip':\n        errors.nip = value.length < 8 ? 'Minimum 8 znaków' : '';\n        break;\n      default:\n        break;\n    }\n    if (validateForm(state.errors)) {\n      setDisabled(false);\n    } else if (!validateForm(state.errors) && privacy === true) {\n      setDisabled(true);\n      console.log('f');\n    }\n  };\n\n  const validateForm = (errors) => {\n    let valid = true;\n    Object.values(errors).forEach((val) => val.length > 0 && (valid = false)) &&\n      Object.values(state)\n        .slice(-1)\n        .forEach((val) => val.length > 0 && (valid = false));\n    return valid;\n  };\n\n  const toggleSwitch = (e) => {\n    setToggle((prev) => !prev);\n    setState({\n      name: '',\n      address1: '',\n      address2: '',\n      address3: '',\n      email: '',\n      nip: '',\n      company: '',\n      errors: {\n        name: '',\n        address1: '',\n        address2: '',\n        address3: '',\n        email: '',\n        nip: '',\n        company: '',\n      },\n    });\n  };\n\n  const acceptPrivacy = (e) => {\n    setPrivacy((prev) => !prev);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    const data = state;\n    delete data.errors;\n    await axios.all([\n      axios.post(`${process.env.REACT_APP_DOMAIN}/api/send-email`, {\n        data,\n      }),\n      // axios.get('/api/kup-szkolenie').then(async (data) => {\n      //   const id = await data.data.id;\n      //   const stripe = await stripePromise;\n      //   const { errorStripe } = await stripe.redirectToCheckout({\n      //     sessionId: id,\n      //   });\n      //   console.log(errorStripe);\n      // }),\n    ]);\n  };\n\n  const timeout = () => {\n    setTimeout(() => {\n      setHasChanged(true);\n      setState({\n        name: '',\n        address1: '',\n        address2: '',\n        address3: '',\n        email: '',\n        nip: '',\n        company: '',\n        errors: {\n          name: '',\n          address1: '',\n          address2: '',\n          address3: '',\n          email: '',\n          nip: '',\n          company: '',\n        },\n      });\n    }, 3000);\n  };\n\n  return (\n    <Box ref={ref}>\n      <Title text=\"Dane kontaktowe\" />\n      <FormContainer\n        onSubmit={handleSubmit}\n        // action=\"/api/kup-szkolenie\"\n        // method=\"POST\"\n      >\n        <Switch toggle={toggle}>\n          {/* <span>Osoba prywatna</span> */}\n          <label>\n            <input\n              type=\"checkbox\"\n              name=\"switch\"\n              id=\"switch\"\n              onChange={toggleSwitch}\n              checked={toggle}\n            />\n            <span></span>\n          </label>\n          <span>\n            Firma <i className=\"fa fa-check\"></i>\n          </span>\n        </Switch>\n        {toggle ? (\n          <Input>\n            <input\n              type=\"text\"\n              name=\"company\"\n              id=\"company\"\n              value={state.company}\n              onChange={handleChange}\n              required\n            />\n            <label htmlFor=\"company\">Nazwa firmy</label>\n            <i className=\"fa fa-check\"></i>\n          </Input>\n        ) : (\n          <Input>\n            <input\n              type=\"text\"\n              name=\"name\"\n              id=\"name\"\n              value={state.name}\n              onChange={handleChange}\n              required\n            />\n            <label htmlFor=\"name\">Imię i nazwisko</label>\n            <i className=\"fa fa-check\"></i>\n          </Input>\n        )}\n        <Input>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            value={state.email}\n            onChange={handleChange}\n            required\n          />\n          <label htmlFor=\"email\">Email</label>\n          <i className=\"fa fa-check\"></i>\n        </Input>\n        <Input>\n          <input\n            type=\"text\"\n            name=\"address1\"\n            id=\"address1\"\n            value={state.address1}\n            onChange={handleChange}\n            required\n          />\n          <label htmlFor=\"address1\">Ulica, nr budynku / nr lokalu</label>\n          <i className=\"fa fa-check\"></i>\n        </Input>\n        <Input>\n          <input\n            type=\"text\"\n            name=\"address2\"\n            id=\"address2\"\n            value={state.address2}\n            onChange={handleChange}\n            required\n          />\n          <label htmlFor=\"address2\">Kod poczowy</label>\n          <i className=\"fa fa-check\"></i>\n        </Input>\n        <Input>\n          <input\n            type=\"text\"\n            name=\"address3\"\n            id=\"address3\"\n            value={state.address3}\n            onChange={handleChange}\n            required\n          />\n          <label htmlFor=\"address3\">Miejscowość</label>\n          <i className=\"fa fa-check\"></i>\n        </Input>\n        {toggle ? (\n          <Input>\n            <input\n              type=\"number\"\n              name=\"nip\"\n              id=\"nip\"\n              value={state.nip}\n              onChange={handleChange}\n              required\n            />\n            <label htmlFor=\"nip\">NIP</label>\n            <i className=\"fa fa-check\"></i>\n          </Input>\n        ) : null}\n        <Privacy>\n          <input\n            type=\"checkbox\"\n            name=\"check\"\n            checked={privacy}\n            onChange={acceptPrivacy}\n            required\n          />\n          <label htmlFor=\"check\">\n            {' '}\n            Kupując szkolenie wyrażam zgodę na przetwarzanie moich danych\n            osobowych.Zasady przetwarzania danych osobowych znajdziesz w{' '}\n            <Link to=\"/polityka-prywatnosci\">polityce prywatności</Link>.\n          </label>\n        </Privacy>\n        <div>\n          {isLoading ? (\n            // <Spinner>\n            <SpinnerBtn>\n              {hasChanged ? 'Wysłano' : <Spinner bgc={colors().grey} />}\n            </SpinnerBtn>\n          ) : (\n            // </Spinner>\n            <input\n              type=\"submit\"\n              value=\"Kupuję i płacę\"\n              disabled={disabled}\n              onClick={() => timeout()}\n            />\n          )}\n        </div>\n      </FormContainer>\n    </Box>\n  );\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}